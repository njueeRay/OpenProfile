# Brain · L2 验证模式

> 位置：`.github/agents/knowledge/brain-patterns.md`
> 层级：L2（验证有效，可复用）
> 维护人：Brain

---

### P-BR-001：Worktree 任务分配触发语标准化

**场景：** 需要并行开展多条工作线时
**模式：**
1. 创建 worktree 前先生成 `worktree-context.md`（任务目标 + DoD + 汇报模板）
2. 完成后用固定格式触发合并：`feature/<name> worktree 任务已完成。变更摘要：[...] 请执行合并流程。`
3. 主窗口收到信号后执行：merge → push → prune → branch -d
**验证：** OpenProfile v4.0 | feature/readme-update 完整跑通（2026-02-27）
**注意：** Windows 下 VS Code 锁定目录时用 `git worktree prune` 替代 `remove --force`，手动删目录
**来源：** 2026-02-27 全体战略会议

---

### P-BR-002：新 Agent 招募决策树

**场景：** 识别到团队缺少某类能力时
**模式：**
1. 先问：现有 Agent 能否兼任？（超过 2 个不相关职责 → 分拆）
2. 新角色能否用一句话说清楚它的存在意义？（不能 → 定义不清，不招）
3. 创建 `.agent.md`，同步更新 `copilot-instructions.md` 团队快照和进化记录
4. 首轮任务必须明确（不能只有职责描述，没有初次任务清单）
**验证：** brand.agent.md 创建过程（2026-02-27）
**来源：** Playbook §13.3 + 本次实践

---

### P-BR-003：用户零散想法的结构化处理

**场景：** 用户一次性抛出多个零散方向，需要 Brain 整理并决策
**模式：**
1. 识别：哪些是明确需求，哪些是方向性想法，哪些是愿景
2. 明确需求 → 本次执行；方向性想法 → 会议决议 + 移交 PM 规划；愿景 → 记录在「未来路线」
3. 所有内容都在会议纪要中结构化体现，不让用户重复解释
4. Brain 主动提出优化（不只是执行用户原话）
**验证：** 2026-02-27 全体战略会议（本次）
**来源：** 2026-02-27 全体战略会议
